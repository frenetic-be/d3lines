<!DOCTYPE html>
<html lang="en">
<head>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,300,400' rel='stylesheet' type='text/css'>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="../d3lines.js"></script>
    <style>
        svg {
            padding: 5px;
            font-family: 'Open Sans', Palatino;
            font-weight: 300;
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <svg id="main-svg"></svg>
    <svg id="main-svg2"></svg>
</body>

<script>
    isArray = d3lines.isArray;
    function multiplePlotLayout(parentID, layout){
        for (jrow in layout){
            var div = document.createElement("div");
            var rowID = parentID+"_div_r"+jrow;
            div.setAttribute("id", rowID);
            div.setAttribute("class", "d3lines-layout-row");
//             div.style.clear = "both";
            document.getElementById(parentID).appendChild(div);
            var row = layout[jrow];
            if (isArray(row))
                {for (jcol in row){
                    var div = document.createElement("div");
                    var colID = rowID+"c"+jcol;
                    div.setAttribute("id", colID);
                    div.setAttribute("class", "d3lines-layout-column");
//                     div.style.float = "left";
                    document.getElementById(rowID).appendChild(div);
                    if (isArray(row[jcol])){
                        multiplePlotLayout(colID, layout);
                    } else {
                        var svg = document.createElement("svg");
                        svg.setAttribute("id", parentID+"_svg_r"+jrow+"c"+jcol);
                        svg.setAttribute("class", "d3lines-layout-svg");
                        document.getElementById(colID).appendChild(svg);
                    }
                }
            }
        }
    }

    function clearContent(elementID)
    {
        document.getElementById(elementID).innerHTML = "";
    }

    d3.selection.prototype.moveToFront = function() {
      return this.each(function(){
        this.parentNode.appendChild(this);
      });
    };

var svg = d3.select("#main-svg");
var plt, plt2

d3.csv("example2.csv", function(error, data) {
    var options = {
        data: data,
        xkey: "Day",
        axes_font_color: "red",
        xgrid: true,
        interactive_options: {
            output_string: function(pt){
                if (pt.hasOwnProperty("Day")) return "Day: "+pt.Day+"/99";
                return "Sorry, I can't tell which day it is";
            }
        }
    };
    plt = d3lines.plot(svg, options);
});

var svg2 = d3.select("#main-svg2");

d3.csv("example_time.csv", function(error, data) {
    data.forEach(function(d){
        d.Time = d3.time.format("%Y-%m-%d %H:%M:%S").parse(d.Time);
    });

    var options = {
        data: data,
        xkey: "Time",
        xscale_type: "time",
        axes_font_color: "blue",
        ygrid: true,
    };
    plt2 = d3lines.plot(svg2, options);
});

</script>

</html>